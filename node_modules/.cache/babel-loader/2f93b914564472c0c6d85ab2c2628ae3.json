{"ast":null,"code":"import _regeneratorRuntime from\"/home/savinnsk/Savinnsk/Study/Ignite_ReactJs/reactjs/dt_money/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/savinnsk/Savinnsk/Study/Ignite_ReactJs/reactjs/dt_money/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/savinnsk/Savinnsk/Study/Ignite_ReactJs/reactjs/dt_money/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Modal from'react-modal';import{useState}from'react';import{useTransaction}from'../../hooks/useTransactions';import closeImg from\"../../assets/vector.svg\";import incomeImg from\"../../assets/entradas.svg\";import outcomeImg from\"../../assets/saidas.svg\";import{Container,TransactionTypeContainer,RadioBox}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function NewTransactionModal(_ref){var isOpen=_ref.isOpen,onRequestClose=_ref.onRequestClose;var _useTransaction=useTransaction(),createTransaction=_useTransaction.createTransaction;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState('deposit'),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];function handleCreateNewTransaction(_x){return _handleCreateNewTransaction.apply(this,arguments);}function _handleCreateNewTransaction(){_handleCreateNewTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return createTransaction({title:title,amount:amount,type:type,category:category});case 3:setTitle('');setAmount(0);//cleaning modal\nsetCategory('');setType('deposit');onRequestClose();case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleCreateNewTransaction.apply(this,arguments);}return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onRequestClose:onRequestClose,overlayClassName:\"react-modal-overlay\",className:\"react-modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onRequestClose,className:\"react-modal-close\",children:/*#__PURE__*/_jsx(\"img\",{src:closeImg,alt:\"close modal\"})}),/*#__PURE__*/_jsxs(Container,{onSubmit:handleCreateNewTransaction,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cadastrar transa\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEDtulo\",value:title// event.target gets the value typed \n,onChange:function onChange(event){return setTitle(event.target.value);}//onChange runs a action when value changes \n}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Valor\",value:amount,onChange:function onChange(event){return setAmount(Number(event.target.value));}}),/*#__PURE__*/_jsxs(TransactionTypeContainer,{children:[/*#__PURE__*/_jsxs(RadioBox,{type:\"button\",onClick:function onClick(){setType('deposit');},isActive:type==='deposit',activeColor:\"green\",children:[/*#__PURE__*/_jsx(\"img\",{src:incomeImg,alt:\"income\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Entrada\"})]}),/*#__PURE__*/_jsxs(RadioBox,{type:\"button\",onClick:function onClick(){setType('withdraw');},isActive:type==='withdraw',activeColor:\"red\",children:[/*#__PURE__*/_jsx(\"img\",{src:outcomeImg,alt:\"outcome\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Saida\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Categotia\",value:category,onChange:function onChange(event){return setCategory(event.target.value);}// we get the value typed here\n}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Cadastrar\"})]})]});}","map":{"version":3,"sources":["/home/savinnsk/Savinnsk/Study/Ignite_ReactJs/reactjs/dt_money/src/components/NewTransactionModal/index.tsx"],"names":["Modal","useState","useTransaction","Container","TransactionTypeContainer","RadioBox","NewTransactionModal","isOpen","onRequestClose","createTransaction","title","setTitle","amount","setAmount","category","setCategory","type","setType","handleCreateNewTransaction","event","preventDefault","closeImg","target","value","Number","incomeImg","outcomeImg"],"mappings":"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","sourcesContent":["import Modal from 'react-modal';\nimport { useState  , FormEvent } from 'react';\nimport { useTransaction } from '../../hooks/useTransactions';\n\nimport closeImg from '../../assets/vector.svg'\nimport incomeImg from '../../assets/entradas.svg';\nimport outcomeImg from '../../assets/saidas.svg';\n\nimport { Container , TransactionTypeContainer , RadioBox} from './styles';\n\ninterface NewTransactionProps  {\n  isOpen : boolean ;\n  onRequestClose: () => void;\n}\n\nexport function NewTransactionModal({ isOpen , onRequestClose } : NewTransactionProps ){\n  \n  const { createTransaction } = useTransaction()\n\n  const [title , setTitle] = useState('');\n  const [ amount, setAmount] = useState(0);\n  const [category , setCategory] = useState('');\n  const [type,setType] = useState('deposit');\n  \n async function handleCreateNewTransaction (event : FormEvent){\n    event.preventDefault();\n\n\n     await createTransaction({\n      title ,\n      amount ,\n      type , \n      category ,\n    })\n\n    setTitle('');\n    setAmount(0);  //cleaning modal\n    setCategory('');\n    setType('deposit');\n    onRequestClose();\n  }\n    return (\n     \n        <Modal isOpen={isOpen}\n               onRequestClose={onRequestClose}\n               overlayClassName=\"react-modal-overlay\"\n               className=\"react-modal-content\"\n               >  \n\n         <button type=\"button\" \n         onClick={onRequestClose}\n         className=\"react-modal-close\">\n           <img src={closeImg} alt=\"close modal\" />\n        </button> \n\n        <Container onSubmit={handleCreateNewTransaction}>    \n              <h2>Cadastrar transação</h2>\n\n              <input type=\"text\"\n               placeholder=\"Título\" \n               value={title}                                        // event.target gets the value typed \n               onChange = { event =>setTitle(event.target.value)}  //onChange runs a action when value changes \n               />                                                  \n\n              <input \n              type=\"number\"\n               placeholder=\"Valor\" \n               value ={amount}\n               onChange = { event =>setAmount(Number(event.target.value))}\n               />\n\n              <TransactionTypeContainer>\n                <RadioBox\n                type='button'\n                onClick={()=> {setType('deposit')}}\n                isActive={type === 'deposit'}\n                activeColor='green'\n                >\n                  <img src={incomeImg} alt=\"income\" />\n                  <span>Entrada</span>\n                </RadioBox>\n\n\n                <RadioBox\n                type='button'\n                onClick={()=>{setType('withdraw')}}\n                isActive={type === 'withdraw'}\n                activeColor='red'\n                >\n                  <img src={outcomeImg} alt=\"outcome\" />\n                  <span>Saida</span>\n                  \n                </RadioBox>\n              </TransactionTypeContainer>\n             \n\n              <input type=\"text\"\n               placeholder=\"Categotia\" \n               value={category}\n               onChange = { event =>setCategory(event.target.value)} // we get the value typed here\n               />\n\n              <button \n              type=\"submit\"\n              >Cadastrar</button>\n\n        </Container>\n        </Modal>\n    \n    )\n}"]},"metadata":{},"sourceType":"module"}